##############################################################################
# General settings.
##############################################################################
-dontwarn
-verbose

# If you encounter problems in your project, you can try to narrow down
# the issue by disabling some processing steps:

-dontshrink
-dontoptimize
-dontwarn com.mastercard.**
-dontwarn org.apache.cordova.*
-dontwarn com.guardsquare.dexguard.runtime.encryption.*

-printconfiguration config.txt

##############################################################################
# Remove logging code.
##############################################################################
-assumenosideeffects class android.util.Log {

    public static *** v(...);
    public static *** i(...);
    public static *** w(...);
    public static *** d(...);
    public static *** e(...);
}
###### Common Rules
-keepresourcefiles jni/**/*.so
-keepattributes Exceptions

# For enumeration classes, see http://proguard.sourceforge.net/manual/examples.html#enumerations
-keepclassmembers enum * {
    public static **[] values();
    public static ** valueOf(java.lang.String);
}

-keepclasseswithmembernames class * {
    native <methods>;
}

###### com.comviva.hceservice.digitizationApi
-keep public class com.comviva.hceservice.digitizationApi.Digitization {
    public public *;
}

-keep public class com.comviva.hceservice.responseobject.**{
  public protected *;
}

-keep public class com.comviva.hceservice.listeners.**{
public protected *;
}

-keep public class com.comviva.hceservice.internalSdkListeners.CommonListener{
public protected *;
}
-keep public class com.comviva.hceservice.requestobjects.**{
public protected *;
}

-keep public class com.comviva.hceservice.digitizationApi.ActiveAccountManagementService {
    public public *;
}

-keep public enum com.comviva.hceservice.digitizationApi.asset.AssetType {
    public public *;
}

-keep public enum com.comviva.hceservice.digitizationApi.authentication.AuthenticationType {
    public public *;
}

-keep public class com.comviva.hceservice.register.Registration {
    public public *;
}

-keep public class com.comviva.hceservice.digitizationApi.PanSource {
    public public *;
}
-keep public class com.comviva.hceservice.digitizationApi.ConsumerEntryMode {
    public public *;
}

###### com.comviva.hceservice.common
-keep public enum com.comviva.hceservice.common.CardType {
    public public *;
}
-keep public enum com.comviva.hceservice.common.CardState {
    public public *;
}
-keep public class com.comviva.hceservice.common.ComvivaSdk {
    public public *;
}
-keep public class com.comviva.hceservice.common.PaymentCard {
    public public *;
}

-keep public class com.comviva.hceservice.common.SdkException {
    public public *;
}
-keep public enum com.comviva.hceservice.common.SchemeType {
    public public *;
}
-keep public class com.comviva.hceservice.common.ComvivaHceService {
    public public *;
}


-keep public interface com.comviva.hceservice.common.ProcessContactlessListener {
    public public *;
}

-keep public interface com.comviva.hceservice.common.SdkError {
    public public *;
}




###### com.comviva.hceservice.transactionHistory


-keep public class com.comviva.hceservice.transactionHistory.TransactionHistory {
    public public *;
}


###### com.comviva.hceservice.fcm
-keep public class com.comviva.hceservice.fcm.ComvivaFCMService {
    public public *;
}

###### MasterCard








###### Utility Classes
-keep public class com.comviva.hceservice.util.DeviceLockUtil {
    public public *;
}
-keep public class com.comviva.hceservice.util.NfcUtil {
    public public *;
}
-keep public enum com.comviva.hceservice.util.NfcSetting {
    public public *;
}


 -keep public class com.comviva.hceservice.util.ArrayUtil {
       public public *;
  }



# Firebase
-keep public class com.google.firebase.iid.FirebaseInstanceId {
    public public *;
}

###### CDCVM Classes
-keep public class com.comviva.hceservice.common.cdcvm.CdCvm {
    public public *;
}
-keep public enum com.comviva.hceservice.common.cdcvm.Entity {
    public public *;
}
-keep public enum com.comviva.hceservice.common.cdcvm.Type {
    public public *;
}

-keep public class * extends android.app.Activity

# Visa Packages
-keep class com.visa.cbp.** { *; }
-dontwarn com.visa.cbp.**

#-keep class com.google.gson.** { *; }
#-dontwarn com.google.gson.**

-keepattributes Signature
-keepattributes Annotation
-keep class com.google.** { *; }
-keep class sun.misc.** { *; }


##---------------Begin: proguard configuration for Gson  ----------
# Gson uses generic type information stored in a class file when working with fields. Proguard
# removes such information by default, so configure it to keep all of it.
-keepattributes Signature

# For using GSON @Expose annotation
-keepattributes *Annotation*

# Gson specific classes
-dontwarn sun.misc.**
#-keep class com.google.gson.stream.** { *; }

# Application classes that will be serialized/deserialized over Gson
-keep class com.google.gson.examples.android.model.** { *; }

# Prevent proguard from stripping interface information from TypeAdapterFactory,
# JsonSerializer, JsonDeserializer instances (so they can be used in @JsonAdapter)
-keep class * implements com.google.gson.TypeAdapterFactory
-keep class * implements com.google.gson.JsonSerializer
-keep class * implements com.google.gson.JsonDeserializer



-assumenosideeffects class android.util.Log {
     public static boolean isLoggable(java.lang.String, int);
     public static int v(...);
     public static int i(...);
     public static int w(...);
     public static int d(...);
     public static int e(...);
 }

#For Remote Management
-keep class com.mastercard.mcbp.mpsdk.remotemanagement.json.**{*;}
-keep class com.mastercard.mpsdk.remotemanagement.**{
 public private protected *;
 }
-keep class com.mastercard.mpsdk.mcbp.utils.utils.Date { *; }
-dontnote flexjson.**

# For SDK card profiles
-keep class com.mastercard.mpsdk.card.core.profile.**{*;}

## For Database Upgrade ##
-keep class com.mastercard.mpsdk.upgrade.utils.bytes.ByteArray{*;}


# For MP SDK version 1.0.x
-keep class com.mastercard.mpsdk.upgrade.profile.**{*;}
## End of database upgrade ##

# For exception thrown
-keepattributes Exceptions

# For libraries module, including component interface
-keep class com.mastercard.mpsdk.mcbp.componentinterface.**{*;}
-keep class com.mastercard.mpsdk.mcbp.utils.bytes.ByteArray{*;}

# For Mchip Engine
-keep class com.mastercard.mpsdk.mcbp.mchipengine.assessment.MchipAdviceAndReasons{*;}
-keep class com.mastercard.mpsdk.mcbp.mchipengine.MChipEngine{*;}
-keep class com.mastercard.mpsdk.mcbp.mchipengine.walletinterface.**{*;}
-keep class com.mastercard.mpsdk.mcbp.mchipengine.apduprocessing.Iso7816{*;}
-keep class com.mastercard.mpsdk.mcbp.mchipengine.apduprocessing.commands.ReadRecordCommandApdu{*;}
-keep class com.mastercard.mpsdk.mcbp.mchipengine.apduprocessing.commands.SelectCommandApdu{*;}
-keep class com.mastercard.mpsdk.mcbp.mchipengine.utils.MChipByteArray{*;}
-keep class com.mastercard.mpsdk.mcbp.mchipengine.utils.MChipDate{*;}
-keep class com.mastercard.mpsdk.mcbp.mchipengine.utils.MChipLogger{*;}
-keep class com.mastercard.mpsdk.mcbp.mchipengine.utils.Wipeable{*;}
-keepclassmembers class *{
   public static *** getBuilder();
}

# For SDK business logic
-keep class com.mastercard.api.implementation.TransactionCredentialsManager{*;}
-keep class com.mastercard.api.implementation.AdviceManager{*;}
-keep class com.mastercard.api.implementation.MpSdkApduProcessor{*;}
-keep class com.mastercard.api.implementation.TransactionLogJson{*;}
-keep class com.mastercard.api.implementation.SingleUseKeyJson{*;}
-keep class com.mastercard.api.interfaces.**{*;}
-keep class com.mastercard.api.exceptions.**{*;}
-keep class com.mastercard.api.implementation.MastercardMobilePaymentLibraryInitializer{*;}
-keep class com.mastercard.api.implementation.MastercardMobilePaymentLibrary{*;}
-keep class com.mastercard.api.implementation.MPSdkCardManagerEventListener{*;}
-keep class com.mastercard.api.implementation.TransactionLogImpl{*;}
-keep class com.mastercard.api.implementation.MPSdkApduListener{*;}
-keep class com.mastercard.api.implementation.MPSdkTransactionEventListener{*;}
